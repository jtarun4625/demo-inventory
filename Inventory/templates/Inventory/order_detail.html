{% extends "Inventory/base.html" %}
{% block script %}
    <script>
        $(document).ready(function () {
            $('#example').DataTable();
        });
        var total = 0
    </script>
{% endblock %}
{% block content %}
    <h2 style="padding-left:40%;">Invoice Detail</h2>
    <br/>
    <br/>
    <br/>
    <div class="table-responsive">
        <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
            <tr>
                <th>#</th>
                <th>Order Id</th>
                <th>Invoice Id</th>
                <th>Product Name</th>
                <th>Qty</th>
                <th>Price</th>
                <th>Total</th>

            </tr>
            </thead>
            <tbody>

            {% for purchase in order %}
                <tr>
                    <script>
                        var qty = Number({{ purchase.qty }})
                        var price = Number({{ purchase.item_price }})
                    </script>
                    <td>{{ purchase.pk }}</td>
                    <td>{{ purchase.invoice_id.invoice_num }}</td>
                    <td>{{ purchase.order_id }}</td>
                    <td>{{ purchase.item_id.name }}</td>
                    <td>{{ purchase.qty }}</td>
                    <td>{{ purchase.item_price }}</td>
                    <td>
                        <script>
                            total = total + qty * price
                            document.write(qty * price)
                        </script>
                    </td>


                </tr>
            {% endfor %}
            <tr>
                <td class="no-line"></td>
                <td class="no-line"></td>
                <td class="no-line"></td>
                <td class="no-line"></td>
                <td class="no-line"></td>
                <td class="no-line text-center"><strong>Total</strong></td>
                <td class="no-line text-right">
                    <script>document.write(total)</script>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

{% endblock %}
